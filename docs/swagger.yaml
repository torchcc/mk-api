definitions:
  dto.CreateUserAddrInput:
    properties:
      building_detail:
        type: string
      city_id:
        type: integer
      county_id:
        type: integer
      is_default:
        type: integer
      province_id:
        type: integer
      town_id:
        type: integer
    required:
    - building_detail
    - city_id
    - county_id
    - province_id
    - town_id
    type: object
  dto.DeleteCargoEntriesInput:
    properties:
      cargo_ids:
        items:
          type: integer
        type: array
    type: object
  dto.GetCaptchaOutput:
    properties:
      captcha_img_url:
        type: string
    type: object
  dto.GetCargoOutputElem:
    properties:
      avatar_url:
        description: 套餐头像url
        type: string
      hospital_id:
        description: 医院id
        type: integer
      hospital_name:
        description: 医院名字
        type: string
      id:
        description: 购物车条目id
        type: integer
      name:
        description: 套餐名字
        type: string
      pkg_count:
        description: 套餐数量
        type: integer
      pkg_id:
        description: 套餐id
        type: integer
      pkg_price:
        description: 套餐单价
        type: number
      update_time:
        description: 更新时间
        type: integer
    type: object
  dto.GetPackageOutPut:
    properties:
      basic_info:
        $ref: '#/definitions/dto.PackageBasicInfo'
        description: 套餐基本信息
        type: object
      items:
        description: 具体项目
        items:
          $ref: '#/definitions/dto.PackageItem'
        type: array
      notices:
        description: 套餐须知
        items:
          $ref: '#/definitions/dto.PackageNotice'
        type: array
      procedure:
        description: 套餐流程
        items:
          $ref: '#/definitions/dto.PackageProcedure'
        type: array
    type: object
  dto.GetUserAddrOutput:
    properties:
      building_detail:
        type: string
      city_id:
        type: integer
      county_id:
        type: integer
      id:
        type: integer
      is_default:
        type: integer
      province_id:
        type: integer
      town_id:
        type: integer
    required:
    - building_detail
    - city_id
    - county_id
    - province_id
    - town_id
    type: object
  dto.JsApiTicketOutPut:
    properties:
      signature:
        description: 微信JsSDK签名
        type: string
    type: object
  dto.ListPackageOutputEle:
    properties:
      avatar_url:
        description: 套餐头像
        type: string
      category_id:
        description: 套餐类别
        type: integer
      category_name:
        description: 类别名称
        type: string
      hospital_id:
        type: integer
      hospital_name:
        description: 医院体检中心名字
        type: string
      id:
        description: 套餐id
        type: integer
      level:
        description: 医院等级， 0-不限 1-公立三甲 2-公立医院 3-民营医院 4-专业机构
        type: integer
      name:
        description: 套餐名字
        type: string
      sold:
        description: 已经预约的单数, 这个暂时需要前端用hidden隐藏起来
        type: integer
    type: object
  dto.LoginRegisterInput:
    properties:
      captcha_code:
        description: 图形验证码
        type: string
      latitude:
        description: 注册时的纬度， 获取不到请传 0.0
        type: number
      longitude:
        description: 注册时的经度, 获取不到的话请传 0.0
        type: number
      mobile:
        description: 用户手机号码
        type: string
      sms_code:
        description: 短信验证码
        type: string
    required:
    - captcha_code
    - mobile
    - sms_code
    type: object
  dto.PackageAttribute:
    properties:
      attr_type:
        description: 套餐的属性类型， 1-套餐项目 2-套餐须知 3-套餐体检的流程
        type: integer
      brief:
        description: 属性概述
        type: string
      comment:
        description: 属性详情
        type: string
      create_time:
        description: 创建时间
        type: integer
      id:
        type: integer
      name:
        description: 属性名字
        type: string
      order_no:
        description: 属性排序， 小的排前面
        type: integer
      pkg_id:
        type: integer
    type: object
  dto.PackageBasicInfo:
    properties:
      avatar_url:
        description: 套餐URL
        type: string
      brief:
        description: 套餐简介
        type: string
      comment:
        description: 套餐详细介绍
        type: string
      hospital_id:
        type: integer
      hospital_name:
        description: 医院体检中心名称
        type: string
      id:
        type: integer
      name:
        description: 套餐名称
        type: string
      price_original:
        description: 原价/门市价
        type: number
      price_real:
        description: 实际价格
        type: number
      tips:
        description: 套餐提示
        type: string
    type: object
  dto.PackageItem:
    $ref: '#/definitions/dto.PackageAttribute'
  dto.PackageNotice:
    $ref: '#/definitions/dto.PackageAttribute'
  dto.PackageProcedure:
    $ref: '#/definitions/dto.PackageAttribute'
  dto.PaginateListOutput:
    properties:
      has_next:
        description: 是否有下一页, 1 是， 0 否
        type: integer
      list:
        description: 列表数据
        type: object
      page_no:
        description: 页码
        type: integer
      page_size:
        description: 本页实际条目数量
        type: integer
    type: object
  dto.PostCargoInput:
    properties:
      pkg_id:
        description: 要添加的套餐id
        type: integer
    type: object
  dto.ResourceID:
    properties:
      id:
        type: integer
    type: object
  dto.UpdateUserAddrInput:
    $ref: '#/definitions/dto.CreateUserAddrInput'
  dto.UserDetailOutput:
    properties:
      avatar_url:
        type: string
      gender:
        type: integer
      id:
        type: integer
      mobile:
        type: string
      open_id:
        type: string
      user_name:
        type: string
    type: object
  middleware.Response:
    properties:
      data:
        type: object
      ecode:
        type: integer
      emsg:
        type: string
    type: object
  model.User:
    properties:
      avatar_url:
        type: string
      city:
        type: string
      country:
        type: string
      gender:
        type: integer
      id:
        type: integer
      mobile:
        type: string
      open_id:
        type: string
      province:
        type: string
      user_name:
        type: string
    type: object
  model.UserAddr:
    properties:
      building_detail:
        type: string
      city_id:
        type: integer
      city_name:
        type: string
      county_id:
        type: integer
      county_name:
        type: string
      id:
        type: integer
      is_default:
        type: integer
      province_id:
        type: integer
      province_name:
        type: string
      town_id:
        type: integer
      town_name:
        type: string
      user_id:
        type: integer
    required:
    - building_detail
    - city_id
    - county_id
    - province_id
    - town_id
    type: object
info:
  contact: {}
  license: {}
paths:
  /:
    get:
      consumes:
      - application/json
      description: 与微信服务器对接，此接口请忽略
      parameters:
      - description: 时间戳
        in: query
        name: timestamp
        required: true
        type: string
      - description: 签名
        in: query
        name: signature
        required: true
        type: string
      - description: NONCE
        in: query
        name: nonce
        required: true
        type: string
      - description: 回响字符串
        in: query
        name: echostr
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: 对接微信
      tags:
      - WechatTag
  /cargo/:
    delete:
      consumes:
      - application/json
      description: 删除购物车条目
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: 加购的套餐id
        in: body
        name: cargo_ids
        required: true
        schema:
          $ref: '#/definitions/dto.DeleteCargoEntriesInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  type: string
              type: object
      summary: 删除购物车条目
      tags:
      - cargo
    get:
      consumes:
      - application/json
      description: 获取购物车里面的pkg列表
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dto.GetCargoOutputElem'
                  type: array
              type: object
      summary: 购物车
      tags:
      - cargo
    post:
      consumes:
      - application/json
      description: 加购物车
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: 加购的套餐id
        in: body
        name: pkgId
        required: true
        schema:
          $ref: '#/definitions/dto.PostCargoInput'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  type: string
              type: object
      summary: 往购物车增添一个套餐
      tags:
      - cargo
  /login_register/:
    post:
      consumes:
      - application/json
      description: 登录或者注册
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: captcha_code:图形验证码， sms_code:短信验证码
        in: body
        name: loginBody
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRegisterInput'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  type: string
              type: object
      summary: 登录或者注册
      tags:
      - login
  /login_register/captcha:
    get:
      consumes:
      - application/json
      description: 获取图片验证码
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.GetCaptchaOutput'
              type: object
      summary: 获取图片验证码
      tags:
      - login
  /login_register/sms:
    get:
      consumes:
      - application/json
      description: 获取短信验证码
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: 用户手机号码
        in: query
        name: mobile
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/middleware.Response'
      summary: 获取短信验证码
      tags:
      - login
  /pkg/:
    get:
      consumes:
      - application/json
      description: 获取套餐列表
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: 每页多少条
        in: query
        name: page_size
        type: integer
      - description: 页码
        in: query
        name: page_no
        type: integer
      - description: 医院等级， 0-不限 1-公立三甲 2-公立医院 3-民营医院 4-专业机构
        in: query
        name: level
        type: string
      - description: 套餐类别id
        in: query
        name: category_id
        type: integer
      - description: 价格区间左值, 0表示最小
        in: query
        name: min_price
        type: integer
      - description: 价格区间左值, 0表示无上限
        in: query
        name: max_price
        type: integer
      - description: 适用人群 0-不限 1-男士 2-女未婚 3-女已婚
        in: query
        name: target
        type: integer
      - description: 高发疾病 0-不限 1-食物不耐受检测，2-骨关节疾病体检 3-健康防癌体检 4-幽门螺旋杆菌检测 5-甲状腺检测 6-糖尿病检测
        in: query
        name: disease
        type: integer
      - description: 优先排序 0-默认排序，1-低价优先 2 高价优先
        in: query
        name: order_by
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  allOf:
                  - $ref: '#/definitions/dto.PaginateListOutput'
                  - properties:
                      list:
                        items:
                          $ref: '#/definitions/dto.ListPackageOutputEle'
                        type: array
                    type: object
              type: object
      summary: 获取套餐列表
      tags:
      - packages
  /pkg/{id}:
    get:
      consumes:
      - application/json
      description: 获取单个套餐详情
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: package id
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.GetPackageOutPut'
              type: object
      summary: 获取单个套餐详情
      tags:
      - packages
  /users:
    get:
      consumes:
      - application/json
      description: Get all the existing users
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.User'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/middleware.Response'
      summary: List existing users
      tags:
      - users
      - list
    post:
      consumes:
      - application/json
      description: Create a new user
      parameters:
      - description: Create user
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.User'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/middleware.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/middleware.Response'
      summary: Create new users
      tags:
      - users
      - create
  /users/{id}:
    put:
      consumes:
      - application/json
      description: Update a single user
      parameters:
      - description: User Id
        in: path
        name: id
        required: true
        type: integer
      - description: Update user
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.User'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/middleware.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/middleware.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/middleware.Response'
      summary: Update users
      tags:
      - users
  /users/addrs:
    get:
      description: 获取收件地址列表
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.UserAddr'
                  type: array
              type: object
      summary: 个人中心->账户信息->收件地址
      tags:
      - addrs
    post:
      consumes:
      - application/json
      description: 新增地址
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: 新增用户收件地址
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/dto.CreateUserAddrInput'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ResourceID'
              type: object
      summary: 新增用户收件地址
      tags:
      - addrs
  /users/addrs/{id}:
    delete:
      consumes:
      - application/json
      description: 删除单个收件地址的
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: addr id
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ResourceID'
              type: object
      summary: 删除单个收件地址的
      tags:
      - addrs
    get:
      consumes:
      - application/json
      description: 获取单个收件地址的详情
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: addr id
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.GetUserAddrOutput'
              type: object
      summary: 获取单个收件地址的详情
      tags:
      - addrs
    put:
      consumes:
      - application/json
      description: 修改单个收件地址的
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      - description: addr id
        in: path
        name: id
        required: true
        type: integer
      - description: 修改用户收件地址
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateUserAddrInput'
      produces:
      - application/json
      responses:
        "200":
          description: success
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ResourceID'
              type: object
      summary: 修改单个收件地址的
      tags:
      - addrs
  /users/user_detail:
    get:
      consumes:
      - application/json
      description: get a single user's info
      parameters:
      - description: 用户token
        in: header
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/middleware.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserDetailOutput'
              type: object
      summary: 个人中心->账户信息
      tags:
      - users
  /wx/js_ticket:
    get:
      consumes:
      - application/json
      description: 获取jsApiTicket 签名
      parameters:
      - description: 传入需要的调用js-sdk的uri地址
        in: query
        name: uri
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.JsApiTicketOutPut'
      summary: 获取签名
      tags:
      - WechatTag
  /wx/launch_auth:
    get:
      description: 发起授权，直接在一个button中发一个get请求到这里即可
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.JsApiTicketOutPut'
      summary: 发起授权
      tags:
      - WechatTag
swagger: "2.0"
